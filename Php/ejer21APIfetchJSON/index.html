<!DOCTYPE html>
<!--ejer de encriptaciÃ³n hecho con ajax. En este caso usando jquery-->
<html lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />


</head>
<body>
	<form id="formulario" method="post">
 
	  	<ul >
	  		
		    <li >
		        <label for="idUsuario">idUsuario</label><br />
		        <input id="idUsuario" name="idUsuario" required />
		    </li>


		    <li>
		        <label for="loginDeUsuario">Login</label><br />
		        <input type="text" id="loginDeUsuario" name="loginDeUsuario" value="" placeholder="Login" required />
		    </li>

		    <li>
		    	<label for="apellido">Apellido</label><br />
		        <input type="text" id="apellido" name="apellido"  value="" placeholder="Apellido" required />
		    </li>

		    <li>
		    	<label for="nombres">Nombres</label><br />
		    	<input type="text" id="nombres" name="nombres"  value="" placeholder="Nombres" required />
		    </li>

		    <li>
		    	<label for="fechaNac">Fecha de nacimiento</label><br />
		        <input type="date" id="fechaNac" name="fechaNac"  value="" placeholder="Fecha de nacimiento" required />
		    </li>
 
	    </ul>
<input type="submit" value="enviar">

</form>

<button id="disparo">Disparador</button>



</body>

<script>



//const objFormulario = document.querySelector("#formulario");
//queryselector recibe un selector css como argumento de entrada. Es como usar
//document.getElementById()


/*
const datosFormulario = new URLSearchParams();
for (const pair of new FormData(objFormulario)) {
    datosFormulario.append(pair[0], pair[1]);
}
*/



/*
document.addEventListener("click",function() {
	for (const key of datosFormulario.keys()) {
		alert(value);
	}
	
});
*/


var objFormulario = document.getElementById("formulario");

var datosFormulario = new FormData(objFormulario);


objFormulario.addEventListener('submit',evento => {
	evento.preventDefault();
	
	console.log(datosFormulario);
	console.log(datosFormulario.get("loginDeUsuario"));

	fetch('./respuesta.php', {
		method:'post',
		body: datosFormulario,
		Cache: 'default'
	})
	.then(respuesta=>{return respuesta.json();})
	.then(datos=>{console.log(datos.loginDeUsuario);});

//respuesta=>{return respuesta.json();}
//datos.loginDeUsuario
});
/*
fetch('url', {
  Method: 'POST',
  Headers: {
    Accept: 'application.json',
    'Content-Type': 'application/json'
  },
  Body: body,
  Cache: 'default'
})

*/






/*
function funcionDisparo() {
				
     fetch("http://localhost/prof/Php/ejer21APIfetchJSON/respuesta.php?ejer21APIfetchJSON?&idUsuario=ggw&loginDeUsuario=gwitt&apellido=Witt")
     		//devuelve objeto respuesta
            .then(respuesta=>{return respuesta.json();})
            	//el metodo json del objeto respuesta devuelve un objeto json  
            .then(datos=>{alert(datos.loginDeUsuario);});
}

document.getElementById("disparo").addEventListener("click",funcionDisparo);
*/

</script>
